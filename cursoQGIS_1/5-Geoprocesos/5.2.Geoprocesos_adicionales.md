# Función "Join attributes based on location" - "Unir atributos por localización"

La opción **"Join attributes based on location"** (Unir atributos basados en la ubicación) en QGIS es una herramienta poderosa para combinar datos de diferentes capas geográficas basándose en la relación espacial entre ellas. Esta funcionalidad es especialmente útil en análisis geoespacial, donde la ubicación de los datos es crucial para entender sus interacciones y relaciones.

## Objetivo

El objetivo principal de esta herramienta es unir los atributos de una capa de datos (capa de origen) con otra capa (capa de destino) según su relación espacial. Esto permite, por ejemplo, agregar información demográfica a una capa de polígonos que representa distritos, o asignar datos de puntos a las áreas en las que se encuentran.

## Cómo Funciona la herramienta

1. **Selección de Capas**:
   - Se debe seleccionar una capa de entrada (capa de destino) y una capa de unión (capa de origen) en la que se encuentran los atributos que se desean añadir.

2. **Definición de la Relación Espacial**:
   - La herramienta permite definir la relación espacial entre las capas. Se pueden usar diferentes tipos de relaciones, como:
     - **Intersección**: Se unen los atributos de la capa de origen con los de la capa de destino si las geometrías se cruzan.
     - **Contención**: Se unen los atributos si la geometría de la capa de origen está completamente contenida dentro de la geometría de la capa de destino.
     - **Proximidad**: Se pueden unir los atributos basándose en una distancia específica, donde los puntos de la capa de origen se consideran cercanos a los de la capa de destino.

3. **Configuración de Atributos**:
   - Es posible seleccionar qué atributos de la capa de origen se desean incluir en la capa de destino, así como decidir si se quieren mantener los atributos de la capa de destino.

4. **Resultado**:
   - El resultado es una nueva capa que contiene los atributos combinados.
  
## Ventajas

- **Integración de Datos**: Facilita la combinación de datos provenientes de diferentes fuentes, enriqueciendo el análisis.
- **Análisis Espacial**: Permite realizar análisis más complejos al considerar la ubicación de los datos.
- **Visualización**: Mejora la visualización de datos al proporcionar una vista más completa de cómo diferentes variables se relacionan espacialmente.

## Limitaciones

- **Rendimiento**: Puede ser intensivo en recursos, especialmente con capas grandes, lo que puede afectar el rendimiento.
- **Precisión**: Es importante asegurarse de que las capas estén en el mismo sistema de referencia espacial para evitar errores de ubicación.

La herramienta **"Join attributes based on location"** en QGIS es esencial para realizar análisis espaciales avanzados y para la gestión efectiva de datos geográficos. Al facilitar la unión de atributos basados en la ubicación, permite a los usuarios obtener una comprensión más profunda de las relaciones geoespaciales y mejorar la calidad de sus análisis.


# Unir atributos por proximidad

Este algoritmo toma una capa vectorial de entrada y crea una nueva capa vectorial que es una versión extendida de la de entrada, con atributos adicionales en su tabla de atributos.

Los atributos adicionales y sus valores son tomados de una segunda capa vectorial, donde los objetos son unidos encontrando los objetos más cercanos de cada capa. Por omisión, solo el único objeto más cercano es unido, pero opcionalmente la unión puede usar los objetos n-vecinos más cercanos. Si se encuentran múltiples objetos con distancias idénticas, todos serán devueltos (aún si el número total de objetos excede la máxima cantidad especificada).

Si se especifica una máxima distancia, entonces solo los objetos que están más cerca de esta distancia serán conjuntados.

Los objetos de salida contendrán los atributos seleccionados del objeto más cercano, junto con nuevos atributos para la distancia al objeto cercano, el índice del objeto, y las coordenadas del punto más cercano en el objeto de entrada (`objeto_x`, `objeto_y`) al objeto coincidente más cercano, y las coordenadas del punto más cercano en el objeto coincidente (`mascercano_x`, `mascercano_y`).

Este algoritmo usa cálculos puramente cartesianos para distancia, y no considera propiedades geodésicas o elipsoidales al determinar proximidad de objetos.


# Unir capas vectoriales

Este algoritmo combina múltiples capas vectoriales de la misma geometría en una sola.

La tabla de atributos de la capa resultante contendrá los campos de todas las capas de entrada. Si se encuentran campos con el mismo nombre pero diferentes tipos, entonces el campo exportado será convertido automáticamente a cadena de caracteres. Se añaden también nuevos campos almacenando el nombre y fuente de la capa original.

Si cualquiera de las capas de entrada contienen valores Z o M, entonces la capa de salida también contendrá esos valores. Similarmente, si cualquiera de las capas de entrada son multiparte, la capa de salida será también multiparte.

De manera opcional, el sistema de referencia de coordenadas (SRC) destino para la capa fusionada se puede establecer. Si no se define, el SRC se tomará de la primera capa de entrada. Todas las capas serán reproyectadas para coincidir con este SRC.

